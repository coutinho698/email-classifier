<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Classificador Inteligente de E-mails</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- CSS externo profissional -->
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>

<body>
  <div class="wrapper">
    <div class="card">

      <!-- Cabeçalho -->
      <header class="header">
        <div class="title">Classificador Inteligente de E-mails</div>
        <p class="subtitle">
          IA para triagem automática de e-mails e geração de respostas, focada em operações financeiras.
        </p>
      </header>

      <!-- COLUNA ESQUERDA: formulário -->
      <section class="left-side">
        <h2 class="section-title">1. Cole o e-mail recebido</h2>
        <p class="section-help">
          A IA vai analisar o conteúdo e classificar como <strong>Produtivo</strong> ou <strong>Improdutivo</strong>,
          além de sugerir uma resposta automática.
        </p>

        <form method="POST" class="form">
          <label class="field-label" for="email_text">Texto do e-mail</label>
          <textarea
            id="email_text"
            name="email_text"
            placeholder="Ex: Olá, preciso de uma atualização sobre o status do meu contrato..."
          >{% if original_text %}{{ original_text }}{% endif %}</textarea>

          <button type="submit" class="primary-button">⚡ Classificar agora</button>
        </form>

        <div class="helper-box">
          <span class="helper-title">Dica rápida</span>
          <p class="helper-text">
            Use textos reais que você recebe no dia a dia: cobrança, suporte, dúvidas, felicitações etc.
          </p>
        </div>
      </section>

      <!-- COLUNA DIREITA: resultado -->
      <section class="right-side">
        <h2 class="section-title">2. Resultado da classificação</h2>

        {% if label %}
          <div class="badge {{ label }}">
            <span class="badge-dot"></span>
            <span class="badge-text">
              {% if label == "produtivo" %}
                Produtivo — requer ação da equipe
              {% else %}
                Improdutivo — sem necessidade de ação imediata
              {% endif %}
            </span>
          </div>
        {% else %}
          <div class="badge aguardando">
            <span class="badge-dot"></span>
            <span class="badge-text">Nenhum e-mail analisado ainda</span>
          </div>
        {% endif %}

        <div class="panel">
          <div class="panel-header">
            <span class="panel-title">Resumo da IA</span>
          </div>
          {% if result %}
            <p class="panel-text">{{ result }}</p>
          {% else %}
            <p class="panel-empty">
              O resumo da classificação aparece aqui depois que você enviar um e-mail para análise.
            </p>
          {% endif %}
        </div>

        <div class="panel">
          <div class="panel-header">
            <span class="panel-title">Resposta sugerida</span>
          </div>
          {% if auto_reply %}
            <p class="panel-text">{{ auto_reply }}</p>
          {% else %}
            <p class="panel-empty">
              A resposta automática gerada pela IA será exibida aqui após a classificação.
            </p>
          {% endif %}
        </div>
      </section>

      <!-- Rodapé -->
      <footer class="footer">
        Solução demonstrativa de classificação de e-mails com IA • Ambiente de teste
      </footer>

    </div>
  </div>
</body>
</html>
